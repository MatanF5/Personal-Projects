{"ast":null,"code":"var _jsxFileName = \"E:\\\\matan\\\\Documents\\\\Personal-Projects\\\\space-finder\\\\src\\\\components\\\\spaces\\\\Spaces.tsx\";\nimport { Component } from \"react\";\nimport { SpaceComponent } from \"./SpaceComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Spaces extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spaces: [],\n      showModel: false,\n      modelContent: ''\n    };\n    this.reserveSpace = this.reserveSpace.bind(this);\n    this.closeModel = this.closeModel.bind(this);\n  }\n\n  async componentDidMount() {\n    const spaces = await this.props.dataService.getSpaces();\n    this.setState({\n      spaces: spaces\n    });\n  }\n\n  async reserveSpace(spaceId) {\n    const reservationResult = await this.props.dataService.reserveSpace(spaceId);\n\n    if (reservationResult) {\n      this.setState({\n        showModel: true,\n        modelContent: `You reserved the space with id ${spaceId} and got the reservation number ${reservationResult}`\n      });\n    } else {\n      this.setState({\n        showModel: true,\n        modelContent: `You can't reserve the space with id ${spaceId}`\n      });\n    }\n  }\n\n  renderSpaces() {\n    const rows = [];\n\n    for (const space of this.state.spaces) {\n      rows.push( /*#__PURE__*/_jsxDEV(SpaceComponent, {\n        location: space.location,\n        name: space.name,\n        spaceId: space.spaceId,\n        reserveSpace: this.reserveSpace\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this));\n    }\n\n    return rows;\n  }\n\n  closeModel() {\n    this.setState({\n      showModel: false,\n      modelContent: ''\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Welcome to the Spaces page!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), this.renderSpaces()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/matan/Documents/Personal-Projects/space-finder/src/components/spaces/Spaces.tsx"],"names":["Component","SpaceComponent","Spaces","constructor","props","state","spaces","showModel","modelContent","reserveSpace","bind","closeModel","componentDidMount","dataService","getSpaces","setState","spaceId","reservationResult","renderSpaces","rows","space","push","location","name","render"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AAGA,SAASC,cAAT,QAA+B,kBAA/B;;AAaA,OAAO,MAAMC,MAAN,SAAqBF,SAArB,CAAyD;AAE5DG,EAAAA,WAAW,CAACC,KAAD,EAAqB;AAC5B,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,YAAY,EAAE;AAHL,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AAEsB,QAAjBE,iBAAiB,GAAG;AACtB,UAAMN,MAAM,GAAG,MAAM,KAAKF,KAAL,CAAWS,WAAX,CAAuBC,SAAvB,EAArB;AACA,SAAKC,QAAL,CAAc;AACVT,MAAAA,MAAM,EAAEA;AADE,KAAd;AAGH;;AAEyB,QAAZG,YAAY,CAACO,OAAD,EAAkB;AACxC,UAAMC,iBAAiB,GAAG,MAAM,KAAKb,KAAL,CAAWS,WAAX,CAAuBJ,YAAvB,CAAoCO,OAApC,CAAhC;;AACA,QAAIC,iBAAJ,EAAuB;AACnB,WAAKF,QAAL,CAAc;AACVR,QAAAA,SAAS,EAAE,IADD;AAEVC,QAAAA,YAAY,EAAG,kCAAiCQ,OAAQ,mCAAkCC,iBAAkB;AAFlG,OAAd;AAIH,KALD,MAKO;AACH,WAAKF,QAAL,CAAc;AACVR,QAAAA,SAAS,EAAE,IADD;AAEVC,QAAAA,YAAY,EAAG,uCAAsCQ,OAAQ;AAFnD,OAAd;AAIH;AACH;;AAEME,EAAAA,YAAY,GAAG;AACnB,UAAMC,IAAW,GAAG,EAApB;;AACA,SAAK,MAAMC,KAAX,IAAoB,KAAKf,KAAL,CAAWC,MAA/B,EAAuC;AACnCa,MAAAA,IAAI,CAACE,IAAL,eACI,QAAC,cAAD;AACI,QAAA,QAAQ,EAAED,KAAK,CAACE,QADpB;AAEI,QAAA,IAAI,EAAEF,KAAK,CAACG,IAFhB;AAGI,QAAA,OAAO,EAAEH,KAAK,CAACJ,OAHnB;AAII,QAAA,YAAY,EAAE,KAAKP;AAJvB;AAAA;AAAA;AAAA;AAAA,cADJ;AAQH;;AACD,WAAOU,IAAP;AACH;;AACOR,EAAAA,UAAU,GAAE;AAChB,SAAKI,QAAL,CAAc;AACVR,MAAAA,SAAS,EAAE,KADD;AAEVC,MAAAA,YAAY,EAAE;AAFJ,KAAd;AAIH;;AAEDgB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,KAAKN,YAAL,EAFL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH;;AA/D2D","sourcesContent":["import { Component } from \"react\";\r\nimport { Space } from \"../../model/Model\";\r\nimport { DataService } from \"../../services/DataService\";\r\nimport { SpaceComponent } from \"./SpaceComponent\";\r\nimport {ConfirmModelComponent} from './ConfirmModelComponent'\r\n\r\ninterface SpacesState {\r\n    spaces: Space[],\r\n    showModel: boolean,\r\n    modelContent: string\r\n}\r\n\r\ninterface SpacesProps {\r\n    dataService: DataService\r\n}\r\n\r\nexport class Spaces extends Component<SpacesProps, SpacesState> {\r\n\r\n    constructor(props: SpacesProps) {\r\n        super(props)\r\n        this.state = {\r\n            spaces: [],\r\n            showModel: false,\r\n            modelContent: ''\r\n        }\r\n        this.reserveSpace = this.reserveSpace.bind(this);\r\n        this.closeModel = this.closeModel.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const spaces = await this.props.dataService.getSpaces();\r\n        this.setState({\r\n            spaces: spaces\r\n        });\r\n    }\r\n\r\n    private async reserveSpace(spaceId: string) {\r\n        const reservationResult = await this.props.dataService.reserveSpace(spaceId)\r\n        if (reservationResult) {\r\n            this.setState({\r\n                showModel: true,\r\n                modelContent: `You reserved the space with id ${spaceId} and got the reservation number ${reservationResult}`\r\n            })\r\n        } else {\r\n            this.setState({\r\n                showModel: true,\r\n                modelContent: `You can't reserve the space with id ${spaceId}`\r\n            })\r\n        }\r\n     }\r\n\r\n    private renderSpaces() {\r\n        const rows: any[] = []\r\n        for (const space of this.state.spaces) {\r\n            rows.push(\r\n                <SpaceComponent\r\n                    location={space.location}\r\n                    name={space.name}\r\n                    spaceId={space.spaceId}\r\n                    reserveSpace={this.reserveSpace}\r\n                />\r\n            )\r\n        }\r\n        return rows;\r\n    }\r\n    private closeModel(){\r\n        this.setState({\r\n            showModel: false,\r\n            modelContent: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Welcome to the Spaces page!</h2>\r\n                {this.renderSpaces()}\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}